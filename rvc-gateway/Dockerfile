FROM adoptopenjdk:11-jre-hotspot
COPY *.jar /rvc-gateway.jar
ARG SERVER_PORT
ARG ACTIVE
ARG UNIQUE_ID
ARG MYSQL_ADDR
ARG MYSQL_USERNAME
ARG MYSQL_PASSWORD
ARG REDIS_ADDR
ARG REDIS_PORT
ARG REDIS_PWD
ARG NACOS_SERVER_ADDR
ARG NACOS_SERVER_USER
ARG NACOS_SERVER_PASSWORD
ARG MQ_ADDR
ARG MQ_PORT
ARG MQ_USERNAME
ARG MQ_PWD
ENV SERVER_PORT=${SERVER_PORT}
ENV ACTIVE=${ACTIVE}
ENV UNIQUE_ID=${UNIQUE_ID}
EXPOSE ${SERVER_PORT}
ENTRYPOINT ["java","-jar","/rvc-gateway.jar"]



#<Auto> -e:prod -m:rvc-gateway -v:1.0 -rp:10010 -de:<-e ACTIVE=prod -e UNIQUE_ID=0 -e SERVER_PORT=10010>
#<Auto> -e:test -m:rvc-gateway -v:1.0 -rp:10010 -de:<-e ACTIVE=test -e UNIQUE_ID=0 -e SERVER_PORT=10010>
